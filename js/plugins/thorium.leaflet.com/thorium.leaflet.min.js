/*!
 * Open Street Map + Leaflet.js functions for Thorium  projects
 * Version 2.0 july, 2020
 * framework7 v5.x (https://framework7.io) MIT Licensed
 * Open Street Map (https://www.openstreetmap.org)
 * Leaflet: https://leafletjs.com - BSD 2-Clause "Simplified" License
 * Copyright 2018-2020 Thorium builder.
*/
var openStreetMapPlugin={name:"Thorium Builder OpenStreetMap - Leaflet.js Plugin",bundleid:"com.thoriumbuilder.leaflet",version:"2.0.0",infoWindowHTML:'<div class="iw-container" >   <i class="fa f7-icons btncloseinfowindow">xmark_circle</i> \t<div class="row">\t\t<div class="imgbloc xsmall-30 small-20 medium-20 large-10 xlarge-10 col-3 ">\t\t\t<img class="img-zoom" src="{img}" alt="{name}" >\t\t</div>\t\t<div class="xsmall-70 small-80 medium-80 large-90 xlarge-90 col-9">\t\t\t<div class="iw-title">{name}&nbsp;<span>{badge}</span></div>\t\t\t<div class="iw-subtitle">{subtitle}</div>\t\t\t<div class="iw-rate">{rating}</div>\t\t\t<div class="iw-subtitle">{address}</div>\t\t\t<div class="flexbox display-flex flex-row align-items-center pt-1" >\t\t\t\t<a id="osm_btn" data-tooltip="info" class="button button-round item-link button-fill tooltip-init" href="/{target}/?id={uid}{datablock}" data-transition="f7-cover-v"><i class="fa f7-icons active-state" >info_circle_fill</i></a>\t\t\t\t<a id="dir_btn_from" data-tooltip="direction from here" class="button button-round button-fill tooltip-init" onclick="window.open(\'https://www.google.com/maps/dir/?api=1&amp;destination={latitude},{longitude}\',\'_parent\');" ><i class="fa f7-icons active-state" >arrow_up_right_diamond_fill</i></a>\t\t\t\t<a id="dir_btn_to" data-tooltip="direction to here" class="button button-round button-fill tooltip-init" onclick="window.open(\'https://www.google.com/maps/dir/?api=1&amp;origin={latitude},{longitude}\',\'_parent\');" ><i class="fa f7-icons active-state" >arrow_uturn_left_circle_fill</i></a>\t\t\t</div>\t\t</div>\t</div></div">',popup:null,geolocString:"You are within {radius} meters from this point",getFirebaseData:function(e,t){if("undefined"==typeof firestoredb)return thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Firestore Database not defined"),void openStreetMapPlugin.showAlert("Firestore Database not defined");if(!firebase.auth().currentUser)return void thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] User not connected");var i=[],a=e.getAttribute("data-firebase-maxrows")||1e4;0==a&&(a=1e4);const o=e.getAttribute("data-filter-field"),r=e.getAttribute("data-filter-operator"),n=e.getAttribute("data-filter-value"),l=e.getAttribute("data-filter-field2"),d=e.getAttribute("data-filter-operator2"),u=e.getAttribute("data-filter-value2"),p=(e.getAttribute("data-template"),"true"==e.getAttribute("data-user-data")||!1);var s=e.getAttribute("data-collection")||null;if(!s)return thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Firebase Collection not set for OpenstreetMap API"),e.setAttribute("data-loaded",!1),openStreetMapPlugin.hidePreloader(),openStreetMapPlugin.emitEvent("firebaseMapLoadError",$(this),"Collection not Defined"),void openStreetMapPlugin.showAlert("Error getting documents, Collection not Defined");thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Get Firebase Data for OpenStreetMap [collection:"+s+"]");var m=firestoredb.collection(s);if("")try{m=m.where("parentuid","==","")}catch(t){return e.setAttribute("data-loaded",!1),openStreetMapPlugin.hidePreloader(),openStreetMapPlugin.emitEvent("firebaseMapLoadError",$(this),t.message),void openStreetMapPlugin.showAlert(t.message)}if(o){g="false"!=n&&("true"==n||n);try{m=m.where(o,r,g)}catch(t){return e.setAttribute("data-loaded",!1),openStreetMapPlugin.hidePreloader(),openStreetMapPlugin.emitEvent("firebaseMapLoadError",$(this),t.message),void openStreetMapPlugin.showAlert(t.message)}}if(l){var g;g="false"!=u&&("true"==u||u);try{m=m.where(l,d,g)}catch(t){return e.setAttribute("data-loaded",!1),openStreetMapPlugin.hidePreloader(),openStreetMapPlugin.emitEvent("firebaseMapLoadError",$(this),t.message),void openStreetMapPlugin.showAlert(t.message)}}if(1==p){var c=firebase.auth().currentUser;if(null!=c)try{m=m.where("createdby","==",c.uid)}catch(t){return e.setAttribute("data-loaded",!1),openStreetMapPlugin.hidePreloader(),openStreetMapPlugin.emitEvent("firebaseMapLoadError",$(this),t.message),void openStreetMapPlugin.showAlert(t.message)}}if(a&&a>0)try{m=m.limit(parseInt(a))}catch(t){return thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Firestore Error: "+t.message),e.setAttribute("data-loaded",!1),openStreetMapPlugin.hidePreloader(),openStreetMapPlugin.emitEvent("firebaseMapLoadError",$(this),t.message),void openStreetMapPlugin.showAlert(t.message)}m.get().then((function(a){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Firebase Data received");var o=-1,r=e.getAttribute("data-firebase-name")||"",n=e.getAttribute("data-firebase-address")||"",l=e.getAttribute("data-firebase-img")||"",d=e.getAttribute("data-firebase-desc")||"",u=e.getAttribute("data-firebase-subtitle")||"",p=e.getAttribute("data-firebase-badge")||"",s=e.getAttribute("data-firebase-rating")||"",m=e.getAttribute("data-target")||"",g=e.getAttribute("data-firebase-lat")||"",c=e.getAttribute("data-firebase-lng")||"",f=e.getAttribute("data-firebase-lat-lng")||"";g=g||"latitude",c=c||"longitude",thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Looping on Firebase Result"),a.forEach((function(e){o+=1;var i={};(i=e.data()).dataindex=o,i.uid=e.id,i.id=e.id;var a=i[g]||0,h=i[c]||0;if((0==a||0==h)&&f.length>0&&i[f]){var b=i[f].split(",");2==b.length&&(a=b[0],h=b[1])}i.latitude=a,i.longitude=h,i.name=i[r]||"",i.address=i[n]||"",i.img=i[l]||"",i.desc=i[d]||"",i.subtitle=i[u]||"",i.badge=i[p]||"",i.rating=i[s]||0,i.target=m,openStreetMapPlugin.addMarkerAt(t,a,h,i)})),thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Firebase Data Parsing done ["+o+" rows]"),setTimeout((function(){openStreetMapPlugin.hidePreloader()}),300),openStreetMapPlugin.emitEvent("firebaseMapLoadSuccess",$(this),i.length)})).catch((function(t){thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Data Parsing Error ["+t+"]"),e.setAttribute("data-loaded",!1),openStreetMapPlugin.hidePreloader(),openStreetMapPlugin.emitEvent("firebaseMapLoadError",$(this),t),openStreetMapPlugin.showAlert("Error getting documents: "+t)}))},showPreloader:function(){"undefined"!=typeof app&&app.preloader.show()},hidePreloader:function(){"undefined"!=typeof app&&app.preloader.hide()},showAlert:function(e){"undefined"!=typeof app&&app.dialog.alert(e)},emitEvent:function(e,t,i,a){i=i||null,a=a||null,"undefined"!=typeof app&&app.emit(e,t,i,a)},getMapInstance:function(e){var t=document.getElementById(e);return t&&t.data?t.data:null},loadMarkersFromJsonApi:function(e,t){var i=e.getAttribute("data-json-root")||null,a=e.getAttribute("data-json-source")||null;if(!a){var o="Invalid url for JSON Source";return thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] "+o),void openStreetMapPlugin.showAlert(o)}var r=[],n={},l={},d=!1;n.method="GET",kMode.length>0&&(n.mode=kMode),kCache.length>0&&(n.cache=kCache),kCredentials.length>0&&(n.credentials=kCredentials),kContenttype.length>0&&(l["Content-Type"]=kContenttype,d=!0),kRedirect.length>0&&(l.redirect=kRedirect,d=!0),kReferrerpolicy.length>0&&(l.referrerpolicy=kReferrerpolicy,d=!0),kAuthorization.length>0&&(l.Authorization=kAuthorization,d=!0),1==d&&(n.headers=l),thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] get data from url ["+a+"]"),fetch(a,n).then((function(o){o.text().then((o=>{var n;thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] data succesfully loaded from url ["+a+"]");try{n=JSON.parse(o)}catch(e){return thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Error ["+e.message+"]"),openStreetMapPlugin.emitEvent("jsonDataloadError",$(this)),void openStreetMapPlugin.showAlert(e.message+" "+o)}var l,d=-1,u={};l="object"==typeof n&&i?jsonApiPlugin.getChildrenProperty(n,i):i?n[i]:n;var p=e.getAttribute("data-json-maxrows")||9999999;0==p&&(p=9999999);var s=e.getAttribute("data-json-name")||"",m=e.getAttribute("data-json-address")||"",g=e.getAttribute("data-json-img")||"",c=e.getAttribute("data-json-desc")||"",f=e.getAttribute("data-json-subtitle")||"",h=e.getAttribute("data-json-badge")||"",b=e.getAttribute("data-json-rating")||"",v=e.getAttribute("data-target")||"",M=e.getAttribute("data-json-lat")||"",S=e.getAttribute("data-json-lng")||"",w=e.getAttribute("data-json-lat-lng")||"",P=e.getAttribute("data-json-key")||"";if(thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Processing Result Data"),l)for(var A in l){if((d+=1)>=p)break;(u=l[A]).dataindex=d;var E=u[M]||0,y=u[S]||0;if((0==E||0==y)&&w.length>0)if(u[w]){var k=u[w].split(",");2==k.length&&(E=k[0],y=k[1])}u.latitude=E,u.longitude=y,u.id=u[P]||"",u.uid=u[P]||"",u.name=u[s]||"",u.address=u[m]||"",u.img=u[g]||"",u.desc=u[c]||"",u.subtitle=u[f]||"",u.badge=u[h]||"",u.rating=u[b]||0,u.target=v,openStreetMapPlugin.addMarkerAt(e.data,E,y,u)}openStreetMapPlugin.emitEvent("jsonDataloadSuccess",$(this),t,r)})).catch((function(e){thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Api Error: ["+e.message+"]"),openStreetMapPlugin.showAlert(e.message)}))})).catch((function(e){thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Api Error: ["+e.message+"]"),openStreetMapPlugin.emitEvent("jsonDataloadError",$(this)),openStreetMapPlugin.showAlert(e.message)}))},initMap:function(e){var t=document.getElementById(e);if(t){if("true"==t.getAttribute("data-initialised"))return thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Open Street Map Object with ID ["+e+"] already initialized]"),d=t.data;openStreetMapPlugin.showPreloader(),thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Init Open Street Map with ID: ["+e+"]"),t.style.opacity="0";var i=t.getAttribute("data-geolocation")||"false",a=parseInt(t.getAttribute("data-zoom")||2),o=parseFloat(t.getAttribute("data-lat")||0),r=parseFloat(t.getAttribute("data-lng")||0),n=t.getAttribute("data-tile-layer-url")||null,l=t.getAttribute("data-tile-layer-options")||null,d=L.map(e).setView([o,r],a);if(openStreetMapPlugin.addtileLayer(d,n,l),1==thoriumCorePlugin.isLocal()&&"true"==i&&(i=!1,thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] Geolocation is not enabled with the simulator"),thoriumCorePlugin.showToast("Geolocation not allowed with Simulator")),"true"==i)if(navigator.geolocation){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Trying to geoLocate user...");try{d.locate({setView:!0,maxZoom:a}),d.on("locationfound",openStreetMapPlugin.onLocationFound),d.on("locationerror",openStreetMapPlugin.onLocationError)}catch(e){thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Leaflet Geolocation error: "+e)}}else thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] Geolocation is not enabled");else setTimeout((function(){d.invalidateSize(),t.style.opacity="1",openStreetMapPlugin.hidePreloader()}),500);var u=L.layerGroup().addTo(d);return d.data=u,t.setAttribute("data-loaded","true"),t.data=d,d.on("click",openStreetMapPlugin.mapOnClick),t.setAttribute("data-initialised","true"),t.style.opacity=1,thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Open Street Map Object with ID ["+e+"] successfully initialized]"),d}thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] Open Street Map Object not found")},onLocationFound:function(e){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Geolocation found");var t=e.accuracy,i=e.target,a=L.icon({iconUrl:"img/map-marker-me.png",iconSize:[30,30]}),o=openStreetMapPlugin.geolocString.replace("{radius}",t);L.marker(e.latlng,{icon:a}).addTo(i).bindPopup(o).openPopup(),L.circle(e.latlng,t).addTo(i),i.panTo(e.latlng);var r=document.getElementById(i._container.id);setTimeout((function(){i.invalidateSize(),r.style.opacity="1",openStreetMapPlugin.hidePreloader()}),500)},onLocationError:function(e){openStreetMapPlugin.hidePreloader(),setTimeout((function(){map.invalidateSize(),mapObject.style.opacity="1"}),500),thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Geolocation error ["+e.message+"]"),openStreetMapPlugin.showAlert(e.message)},addMarkerAt:function(e,t,i,a){if(e){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Adding Open Street Map Marker at position ["+t+" | "+i+"]");var o=e.data,r=L.icon({iconUrl:"img/map-marker-icon.png",iconSize:[24,39]});a.icon=r;var n=new L.Marker([t,i],a);n.on("click",openStreetMapPlugin.markerOnClick).addTo(o),n.on("mouseover",openStreetMapPlugin.markerOnMouseOver).addTo(o),n.on("mouseout",openStreetMapPlugin.markerOnMouseLeave).addTo(o)}else thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] mapObject undefined")},setInfoWindow:function(e){var t;thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Set Info Window Content"),t=(t=(t=(t=openStreetMapPlugin.infoWindowHTML).replace(/{name}/g,e.name||"unknown place")).replace(/{uid}/g,e.uid||"")).replace(/{address}/g,e.address||"");var a=!1;e.locimage&&e.locimage.length>0?(e.img=e.locimage,a=!0):e.img="./img/defaultimg.png",t=(t=(t=(t=(t=(t=(t=t.replace(/{img}/g,e.img)).replace(/{description}/g,e.desc||"")).replace(/{subtitle}/g,e.subtitle||"")).replace(/{badge}/g,e.badge||"")).replace(/{target}/g,e.target||"")).replace(/{latitude}/g,e.latitude)).replace(/{longitude}/g,e.longitude);var o="";for(i=0;i<e.rating;i++)o+='<i class="f7-icons">star_fill</i>';t=t.replace(/{rating}/g,o||"");var r=e.service||null;if(r){var n=e.pk||null;t=t.replace(/{datablock}/g,"&service="+r+"&pk="+n+"&rowindex=0")}else t=t.replace(/{datablock}/g,"&data="+encodeURIComponent(JSON.stringify(e)));if($(".custominfowindow").html(t),0==a){var l=document.querySelector(".custominfowindow .img-zoom");l&&(l.style.display="none")}if(!e.target){var d=document.querySelector(".custominfowindow .osm_btn");d&&(d.style.display="none")}return t},markerOnMouseLeave:function(e){},mapOnClick:function(e){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Map Click Detected"),$(".custominfowindow").hide()},markerOnMouseOver:function(e){if("undefined"==typeof app){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Mouse Over Map Marker");var t=this.options,i=openStreetMapPlugin.setInfoWindow(t);$(".custominfowindow").hide(),e.target.bindPopup(i).openPopup()}},markerOnClick:function(e){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Marker Click Detected");var t=this.options;if(openStreetMapPlugin.setInfoWindow(t),"undefined"!=typeof app)$(".custominfowindow").show(),$(".custominfowindow").css("height","auto");else if($(".custominfowindow").hide(),t.target&&t.target.length>0){var i=t.target+".html";t.id&&(i=i+"?id="+hash_encode(t.id)),location=i}t.target||$("#osm_btn").hide()},addtileLayer:function(e,t,i){if(i=i||"",t=t||null){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] adding Tile Layer from url ["+t+"] with options ["+i+"]");try{L.tileLayer(t,{options:i}).addTo(e)}catch(e){thoriumapi.logEvent(2,"[com.thoriumbuilder.leaflet] Error while adding Title Layer ["+e+"]"),openStreetMapPlugin.showAlert("Error while adding Title Layer "+e)}}else thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] adding default Tile Layer from url [https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png]"),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e)},setWMSService:function(e,t,i){var a=document.getElementById(e);if(a){var o=a.data;if(o){L.tileLayer.wms(t,{layers:i}).addTo(o);thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] WMS Service ["+t+"] with option ["+i+"] Added to OSM Map with id:"+e),setTimeout((function(){o.invalidateSize()}),100)}}},addGeoJSON:function(e,t){if(t=t||null){var i=document.getElementById(e);if(i){var a=i.data;a&&(L.geoJSON(t).addTo(a),thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Geojson Added to OSM Map with id:"+e),setTimeout((function(){a.invalidateSize()}),500))}}},addCircle:function(e,t,i){if(t=t||null){var a=document.getElementById(e);if(a){var o=a.data;if(o){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Circle Added to OSM Map with id:"+e);L.circle(t,i).addTo(o);setTimeout((function(){o.invalidateSize()}),500)}else thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] Add Circle to OSM Map: Undefined Map")}else thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] Add Circle to OSM Map: Undefined Map")}else thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] Add Circle to OSM Map: Position not set")},addPolygon:function(e,t,i){if(t=t||null){var a=document.getElementById(e);if(a){var o=a.data;if(o){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Polygon Added to OSM Map with id:"+e);L.polygon(t,i).addTo(o);setTimeout((function(){o.invalidateSize()}),500)}else thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] Add Polygon to OSM Map: Undefined Map")}else thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] Add Polygon to OSM Map: Undefined Map")}else thoriumapi.logEvent(1,"[com.thoriumbuilder.leaflet] Add Polygon to OSM Map: Position not set")},showStaticMarkers:function(e){var t=e.getAttribute("data-markers")||"";e.getAttribute("data-target");if(t.length>0){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Loading Static Markers for Map");var i=Base64.decode(t),a=JSON.parse(i);for(item of a)item.target||(item.target=""),openStreetMapPlugin.addMarkerAt(e.data,item.latitude,item.longitude,item)}},initAllMaps:function(){var e=0;thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Calling initAllMaps function");e=0;return $(".openstreetmap-api").each((function(t){var i=document.getElementById(t.id);if(i){var a=i.getAttribute("data-loaded")||"false",o=i.getAttribute("data-dbsource")||null;if("false"==a){openStreetMapPlugin.showPreloader();var r=openStreetMapPlugin.initMap(t.id);r&&("firebase"==o?(thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Get Markers from Firebase for OSM Map with id:"+t.id),openStreetMapPlugin.getFirebaseData(i,r)):"sqlite"==o||("json"==o?(thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Get Markers from JSON API for OSM Map with id:"+t.id),openStreetMapPlugin.loadMarkersFromJsonApi(t,i)):"static"==o&&(thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Get Markers from Static list for OSM Map with id:"+t.id),openStreetMapPlugin.showStaticMarkers(i))))}else thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Map with ID ["+t.id+"] already initialized");e+=1}})),e},clearMapLayer:function(e){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Clear Map Leyer for OSM Map with id:"+e),document.getElementById(e).data.data.clearLayers()},reloadAllMaps:function(){thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Reloading All Maps in DOM"),$(".openstreetmap-api").each((function(e,t){openStreetMapPlugin.refreshMap(t.id)}))},refreshMap:function(e){openStreetMapPlugin.showPreloader(),openStreetMapPlugin.clearMapLayer(e);var t=document.getElementById(e);if(t){var i=t.data;if(i){i.data;var a=t.getAttribute("data-dbsource")||null;t.setAttribute("data-loaded","false"),thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Reload Markers from Firebase for OSM Map with id:"+t.id),"firebase"==a?(thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Get Markers from Firebase for OSM Map with id:"+t.id),openStreetMapPlugin.getFirebaseData(t,i)):"sqlite"==a?"undefined"!=typeof thoriumSqlitePlugin&&(thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Get Markers from Sqlite for OSM Map with id:"+t.id),thoriumSqlitePlugin.loadPlaces(t,"osm")):"json"==a?(thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Get Markers from JSON API for OSM Map with id:"+t.id),openStreetMapPlugin.loadMarkersFromJsonApi(t,t)):"static"==a&&(thoriumapi.logEvent(0,"[com.thoriumbuilder.leaflet] Get Markers from Static list for OSM Map with id:"+t.id),openStreetMapPlugin.showStaticMarkers(t))}}},initialize:function(){"undefined"!=typeof app&&app.on("pageMounted",(function(e){setTimeout((function(){openStreetMapPlugin.initAllMaps()}),100)})),setTimeout((function(){openStreetMapPlugin.initAllMaps()}),100)}};document.addEventListener("deviceready",openStreetMapPlugin.initialize),document.addEventListener("DOMContentLoaded",openStreetMapPlugin.initialize);